const snarkjs = require("snarkjs");
const vKey = JSON.parse(fs.readFileSync("verification_key.json"));

let publicSignals = [
  '17853941289740592551682164141790101668489478619664963356488634739728685875777'
]
let proof = {
  pi_a: [
    '2288542494748638547965791729983005816830163140315390689398658315015970940373',
    '10282348353639726646775793894277571888654514203262570538539285121846002135281',
    '1'
  ],
  pi_b: [
    [
      '14800480486555233228831927422201077367488477495686400325319950180755957209515',
      '20718633926395760427130957747516785890122969994824810184086846768972822238606'
    ],
    [
      '16462334401828030642663748284068205859858057574619737759507790712198799086869',
      '6364284605897110624357207218232675844613852997793260498034588427498776205806'
    ],
    [ '1', '0' ]
  ],
  pi_c: [
    '3585429252568812868954453077122816544332507947445750841321137149981064757699',
    '5450961853109495265743443349382510918106913344366706897897303387339476509849',
    '1'
  ],
  protocol: 'groth16',
  curve: 'bn128'
}
const res = await snarkjs.groth16.verify(vKey, publicSignals, proof);

if (res === true) {
  console.log("Verification OK");
} else {
  console.log("Invalid proof");
}